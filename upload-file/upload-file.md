# Backend

* 在上傳檔案這個動作，首先要了解後端需要接受的檔案類型，檔案類型在HTML協定分兩種， 一種是直接傳輸檔案的二進制檔案（Binary\)，另一種是將二進制檔案轉換成base64的格式。 這兩種的不同根據HTML傳輸格式也會不同，傳輸的大小也不同。 因爲目前都是使用`multipart/form-data`這種Content-Type傳輸給後端的是一種二進制檔案。 而`application/json`這種Content-Type傳輸給後端的是字串，也就是所謂base64後的資料。
* 在搞清楚前端使用哪種格式後，我們就能知道後端需要怎麼處理送來的資料。
* 這邊補充說明，base64的檔案會比二進制檔案還大而且傳輸時間會更慢， 所以現在大家在傳輸檔案的時候，都是使用`multipart/form-data`來上傳檔案， 而且如果使用base64，後端還需要通過特殊處理base64的解碼然後比對md5的檔案內容。 這肯定會需要花費一大筆時間和技術來完成。所以建議都是用`multipart/form-data`方式來傳輸檔案比較優。
* 在使用檔案傳輸的時候通常前端只能夠使用FormData格式傳輸，這時候後端接受資料除了檔案還可以接受FormData內的parameter。 直接通過request.body就能夠拿到FormData的parameter。
* Content-Type後面的boundary是分割符號的意思，是將二進制檔案一段一段分割用的。因为可能有多文件多字段， 每个字段文件之间，我们无法准确地去判断这个文件哪里到哪里为截止状态。因此需要有分隔符来进行划分。
* 後端透過檔案上傳後需要設定一些基本middleware（中間介），首先需要將檔案上傳的功能安裝， 然後使用的時候要設定一些基本資料（上傳的路徑、設定暫存文件、開啓該文件的權限等）。也可以將檔案暫存在某個資料夾。

